{"version":3,"sources":["services/axiosServices.js","components/createCode.js","components/verifyCode.js","App.js","reportWebVitals.js","index.js"],"names":["postService","route","requestData","axios","post","process","REACT_APP_BASE_URL","createCode","generateCode","then","res","setState","code","data","catch","error","state","this","className","onClick","Component","socket","socketIOClient","verifyCode","onInputChange","e","target","value","validateCode","length","Number","errorMessage","valideCode","emit","err","console","log","response","message","onChange","App","changeRoute","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uOAEaA,EAAc,SAACC,GAA6B,IAAtBC,EAAqB,uDAAP,GAC/C,OAAOC,IAAMC,KAAKC,oJAAYC,mBAAqBL,EAAOC,ICkC7CK,E,kDAjCb,aAAe,IAAD,8BACZ,gBAOFC,aAAe,WACbR,EAAY,oBACTS,MAAK,SAACC,GACL,EAAKC,SAAS,CAAEC,KAAMF,EAAIG,KAAKD,UAEhCE,OAAM,WACL,EAAKH,SAAS,CAAEI,OAAO,QAZ3B,EAAKC,MAAQ,CACXJ,KAAM,GACNG,OAAO,GAJG,E,qDAkBJ,IAAD,EACiBE,KAAKD,MAArBJ,EADD,EACCA,KAAMG,EADP,EACOA,MAEd,OACE,qCACE,mBAAGG,UAAU,OAAb,SAAqBN,IACrB,wBAAQO,QAASF,KAAKT,aAAtB,SACE,sBAAMU,UAAU,OAAhB,6BAEDH,GAAS,mBAAGG,UAAU,QAAb,uC,GA5BOE,a,QCEnBC,E,MAASC,GAAejB,oJAAYC,oBA2D3BiB,E,kDAxDb,aAAe,IAAD,8BACZ,gBAQFC,cAAgB,SAACC,GACf,EAAKd,SAAS,CAAEC,KAAMa,EAAEC,OAAOC,SAVnB,EAadC,aAAe,WAAO,IACZhB,EAAS,EAAKI,MAAdJ,KAER,GAAoB,IAAhBA,EAAKiB,SAAiBC,OAAOlB,GAC/B,OAAO,EAAKD,SAAS,CAAEoB,aAAc,kCAGvC/B,EAAY,qBAAsB,CAChCY,KAAMA,IAELH,MAAK,WACJ,EAAKE,SAAS,CAAEqB,YAAY,IAC5BX,EAAOY,KAAK,2BAA4B,OAIzCnB,OAAM,SAACoB,GAAS,IAAD,IAE4C,IAA1D,GADAC,QAAQC,IAAIF,EAAIG,SAASxB,MACW,wBAAhC,UAAAqB,EAAIG,gBAAJ,mBAAcxB,YAAd,eAAoByB,SACtB,OAAO,EAAK3B,SAAS,CAAEoB,aAAY,UAAEG,EAAIG,gBAAN,iBAAE,EAAcxB,YAAhB,aAAE,EAAoByB,UAG3D,EAAK3B,SAAS,CAAEoB,aAAc,6BAjClC,EAAKf,MAAQ,CACXJ,KAAM,GACNmB,aAAc,GACdC,YAAY,GALF,E,qDAuCJ,IAAD,EAC8Bf,KAAKD,MAAlCe,EADD,EACCA,aAER,OAHO,EACeC,WAGpB,mBAAGd,UAAU,OAAb,6DAEA,qCACE,uBAAOqB,SAAUtB,KAAKO,gBACtB,wBAAQL,QAASF,KAAKW,aAAtB,SACE,8CAEDG,GAAgB,mBAAGb,UAAU,QAAb,SAAsBa,W,GAnDtBX,aCoCVoB,E,kDArCb,aAAe,IAAD,8BACZ,gBAMFC,YAAc,SAACxC,GACb,EAAKU,SAAS,CAAEV,WANhB,EAAKe,MAAQ,CACXf,MAAO,QAHG,E,qDAWJ,IAAD,OACCA,EAAUgB,KAAKD,MAAff,MAER,MAAiB,eAAVA,EACL,cAAC,EAAD,IACY,eAAVA,EACF,cAAC,EAAD,IAEA,gCACE,wBACEiB,UAAU,SACVC,QAAS,kBAAM,EAAKsB,YAAY,eAFlC,SAIE,sBAAMvB,UAAU,OAAhB,+BAEF,wBACEA,UAAU,SACVC,QAAS,kBAAM,EAAKsB,YAAY,eAFlC,SAIE,sBAAMvB,UAAU,OAAhB,kC,GA/BQE,aCOHsB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBnC,MAAK,YAAkD,IAA/CoC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCFdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.2c73e3b6.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const postService = (route, requestData = {}) => {\r\n  return axios.post(process.env.REACT_APP_BASE_URL + route, requestData);\r\n};\r\n\r\nexport const getService = (route) => {\r\n  return axios.get(process.env.REACT_APP_BASE_URL + route);\r\n};\r\n","import { Component } from \"react\";\r\nimport { postService } from \"../services/axiosServices\";\r\n\r\nclass createCode extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      code: \"\",\r\n      error: false,\r\n    };\r\n  }\r\n\r\n  generateCode = () => {\r\n    postService(\"/discount/create\")\r\n      .then((res) => {\r\n        this.setState({ code: res.data.code });\r\n      })\r\n      .catch(() => {\r\n        this.setState({ error: true });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { code, error } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <p className=\"code\">{code}</p>\r\n        <button onClick={this.generateCode}>\r\n          <span className=\"text\">Generate Code</span>\r\n        </button>\r\n        {error && <p className=\"error\">an error occurred!</p>}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default createCode;\r\n","import { Component } from \"react\";\r\nimport { postService } from \"../services/axiosServices\";\r\nimport socketIOClient from \"socket.io-client\";\r\n\r\n// Connecting Socket.io\r\nconst socket = socketIOClient(process.env.REACT_APP_BASE_URL);\r\n\r\nclass verifyCode extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      code: \"\",\r\n      errorMessage: \"\",\r\n      valideCode: false,\r\n    };\r\n  }\r\n\r\n  onInputChange = (e) => {\r\n    this.setState({ code: e.target.value });\r\n  };\r\n\r\n  validateCode = () => {\r\n    const { code } = this.state;\r\n\r\n    if (code.length !== 4 || !Number(code)) {\r\n      return this.setState({ errorMessage: \"please enter a 4 digits code!\" });\r\n    }\r\n\r\n    postService(\"/discount/validate\", {\r\n      code: code,\r\n    })\r\n      .then(() => {\r\n        this.setState({ valideCode: true });\r\n        socket.emit(\"codeVerifiedSuccessfully\", {\r\n          // some data about user\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.response.data);\r\n        if (err.response?.data?.message === \"code is not valid!\") {\r\n          return this.setState({ errorMessage: err.response?.data?.message });\r\n        }\r\n\r\n        this.setState({ errorMessage: \"something went wrong\" });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { errorMessage, valideCode } = this.state;\r\n\r\n    return valideCode ? (\r\n      <p className=\"code\">Success, notification sent to user successfully</p>\r\n    ) : (\r\n      <>\r\n        <input onChange={this.onInputChange} />\r\n        <button onClick={this.validateCode}>\r\n          <span>Validate</span>\r\n        </button>\r\n        {errorMessage && <p className=\"error\">{errorMessage}</p>}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default verifyCode;\r\n","import { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport CreateCode from \"./components/createCode\";\r\nimport VerifyCode from \"./components/verifyCode\";\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      route: \"home\",\r\n    };\r\n  }\r\n\r\n  changeRoute = (route) => {\r\n    this.setState({ route });\r\n  };\r\n\r\n  render() {\r\n    const { route } = this.state;\r\n\r\n    return route === \"createCode\" ? (\r\n      <CreateCode />\r\n    ) : route === \"verifyCode\" ? (\r\n      <VerifyCode />\r\n    ) : (\r\n      <div>\r\n        <button\r\n          className=\"button\"\r\n          onClick={() => this.changeRoute(\"createCode\")}\r\n        >\r\n          <span className=\"text\">create new code</span>\r\n        </button>\r\n        <button\r\n          className=\"button\"\r\n          onClick={() => this.changeRoute(\"verifyCode\")}\r\n        >\r\n          <span className=\"text\">verify code</span>\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}