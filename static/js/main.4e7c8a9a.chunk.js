(this["webpackJsonpepicore-frontend"]=this["webpackJsonpepicore-frontend"]||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(2),o=n.n(r),a=n(49),s=n.n(a),i=n(9),d=n(10),u=n(12),l=n(11),h=(n(56),n(26)),j=n.n(h),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j.a.post("https://epicore.herokuapp.com"+e,t)},f=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).generateCode=function(){b("/discount/create").then((function(t){e.setState({code:t.data.code})})).catch((function(){e.setState({error:!0})}))},e.state={code:"",error:!1},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state,t=e.code,n=e.error;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{className:"code",children:t}),Object(c.jsx)("button",{onClick:this.generateCode,children:Object(c.jsx)("span",{className:"text",children:"Generate Code"})}),n&&Object(c.jsx)("p",{className:"error",children:"an error occurred!"})]})}}]),n}(r.Component),v=n(50),p=n.n(v)()("https://epicore.herokuapp.com"),O=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).onInputChange=function(t){e.setState({code:t.target.value})},e.validateCode=function(){var t=e.state.code;if(4!==t.length||!Number(t))return e.setState({errorMessage:"please enter a 4 digits code!"});b("/discount/validate",{code:t}).then((function(){e.setState({valideCode:!0}),p.emit("codeVerifiedSuccessfully",{})})).catch((function(t){var n,c,r,o;if(console.log(t.response.data),"code is not valid!"===(null===(n=t.response)||void 0===n||null===(c=n.data)||void 0===c?void 0:c.message))return e.setState({errorMessage:null===(r=t.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message});e.setState({errorMessage:"something went wrong"})}))},e.state={code:"",errorMessage:"",valideCode:!1},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state,t=e.errorMessage;return e.valideCode?Object(c.jsx)("p",{className:"code",children:"Success, notification sent to user successfully"}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("input",{onChange:this.onInputChange}),Object(c.jsx)("button",{onClick:this.validateCode,children:Object(c.jsx)("span",{children:"Validate"})}),t&&Object(c.jsx)("p",{className:"error",children:t})]})}}]),n}(r.Component),g=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).changeRoute=function(t){e.setState({route:t})},e.state={route:"home"},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state.route;return"createCode"===t?Object(c.jsx)(f,{}):"verifyCode"===t?Object(c.jsx)(O,{}):Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"button",onClick:function(){return e.changeRoute("createCode")},children:Object(c.jsx)("span",{className:"text",children:"create new code"})}),Object(c.jsx)("button",{className:"button",onClick:function(){return e.changeRoute("verifyCode")},children:Object(c.jsx)("span",{className:"text",children:"verify code"})})]})}}]),n}(r.Component),C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),o(e),a(e)}))};s.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root")),C()},56:function(e,t,n){}},[[104,1,2]]]);
//# sourceMappingURL=main.4e7c8a9a.chunk.js.map