(this["webpackJsonpepicore-frontend"]=this["webpackJsonpepicore-frontend"]||[]).push([[0],{41:function(e,n,t){},44:function(e,n,t){"use strict";t.r(n);var c=t(3),a=t(2),i=t.n(a),s=t(29),o=t.n(s),r=(t(41),t(13)),u=t(19),d=t(56),l=t(59);function j(){var e=Object(u.a)(["\n  mutation {\n    createDiscount {\n      success\n      discount {\n        code\n      }\n    }\n  }\n"]);return j=function(){return e},e}var b=Object(d.a)(j()),O=function(){var e=Object(a.useState)(""),n=Object(r.a)(e,2),t=n[0],i=n[1],s=Object(a.useState)(!1),o=Object(r.a)(s,2),u=o[0],d=o[1],j=Object(l.a)(b),O=Object(r.a)(j,2),v=O[0],h=O[1].loading;return Object(c.jsxs)("div",{className:"container",children:[h?Object(c.jsx)("p",{children:"loading..."}):t&&Object(c.jsx)("p",{className:"code",children:t}),Object(c.jsx)("button",{onClick:function(){v().then((function(e){var n,t,c,a,s;(null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.createDiscount)||void 0===t?void 0:t.success)?i(null===e||void 0===e||null===(c=e.data)||void 0===c||null===(a=c.createDiscount)||void 0===a||null===(s=a.discount)||void 0===s?void 0:s.code):d(!0)})).catch((function(){return d(!0)}))},children:Object(c.jsx)("span",{className:"text",children:"Generate Code"})}),u&&Object(c.jsx)("p",{className:"error",children:"an error occurred!"})]})},v=t(58);function h(){var e=Object(u.a)(["\n  query ($code: Int!) {\n    validateDiscount(code: $code) {\n      success\n      message\n      discount {\n        id\n        code\n        expirationDate\n      }\n    }\n  }\n"]);return h=function(){return e},e}var f=Object(d.a)(h()),p=function(){var e=Object(a.useState)(""),n=Object(r.a)(e,2),t=n[0],i=n[1],s=Object(a.useState)(""),o=Object(r.a)(s,2),u=o[0],d=o[1],l=Object(a.useState)(!1),j=Object(r.a)(l,2),b=j[0],O=j[1],h=Object(v.a)(f),p=Object(r.a)(h,2),x=p[0],g=p[1],m=g.loading,N=g.data;Object(a.useEffect)((function(){var e,n;m||((null===N||void 0===N||null===(e=N.validateDiscount)||void 0===e?void 0:e.success)?O(!0):d(null===N||void 0===N||null===(n=N.validateDiscount)||void 0===n?void 0:n.message))}),[m,N]);return Object(c.jsx)("div",{className:"container",children:m?Object(c.jsx)("p",{children:"loading..."}):b?Object(c.jsx)("p",{className:"code",children:"Success, notification sent to user successfully"}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("input",{onChange:function(e){return i(e.target.value)}}),Object(c.jsx)("button",{onClick:function(){if(4!==t.length||!Number(t))return d("please enter a 4 digits code!");x({variables:{code:Number(t)}})},children:Object(c.jsx)("span",{children:"Validate"})}),u&&Object(c.jsx)("p",{className:"error",children:u})]})})},x=function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(O,{}),Object(c.jsx)(p,{})]})},g=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,61)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,i=n.getLCP,s=n.getTTFB;t(e),c(e),a(e),i(e),s(e)}))},m=t(55),N=t(57),D=t(54),S=new m.a({uri:"https://epicore.herokuapp.com",cache:new N.a});o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(D.a,{client:S,children:Object(c.jsx)(x,{})})}),document.getElementById("root")),g()}},[[44,1,2]]]);
//# sourceMappingURL=main.3a252753.chunk.js.map